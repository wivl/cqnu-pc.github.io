(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{368:function(t,e,r){"use strict";r.r(e);var a=r(0),_=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"dactyl-manuform-build-guide-handwired"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dactyl-manuform-build-guide-handwired"}},[t._v("#")]),t._v(" Dactyl-manuform build guide (handwired)")]),t._v(" "),e("p",[t._v("这是一篇关于 "),e("a",{attrs:{href:"https://github.com/tshort/dactyl-keyboard",target:"_blank",rel:"noopener noreferrer"}},[t._v("dactyl-manuform"),e("OutboundLink")],1),t._v(" 的小白友好 ("),e("s",[t._v("因为我本身就是小白")]),t._v(") 的中文组建指南，如果你没有任何组建键盘的经验("),e("s",[t._v("比如我")]),t._v(")，通过阅读本指南，你大概可以对整个流程有清晰一点的了解。本指南是基于我组建此键盘的经历的一些经验分享，以及一些网上不容易找到的一些资源的整合。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.staticaly.com/gh/wivl/dactyl-build-guide@master/pics/IMG_2496.png",alt:"dactyl_manuform"}})]),t._v(" "),e("h2",{attrs:{id:"物料准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#物料准备"}},[t._v("#")]),t._v(" 物料准备")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数量")]),t._v(" "),e("th",[t._v("价格(估计)")]),t._v(" "),e("th",[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Arduino Pro Micro")]),t._v(" "),e("td",[t._v("2")]),t._v(" "),e("td",[t._v("76 (38*2)")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("轴体")]),t._v(" "),e("td",[t._v("64")]),t._v(" "),e("td",[t._v("96 (1.5*64)")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("RJ9 插头")]),t._v(" "),e("td",[t._v("2")]),t._v(" "),e("td",[t._v("5")]),t._v(" "),e("td",[t._v("又叫电话机听筒线、123线序头")])]),t._v(" "),e("tr",[e("td",[t._v("开关二极管1N4148")]),t._v(" "),e("td",[t._v("64")]),t._v(" "),e("td",[t._v("3.8")]),t._v(" "),e("td",[t._v("一般按100个一包购买")])]),t._v(" "),e("tr",[e("td",[t._v("40p杜邦线")]),t._v(" "),e("td",[t._v("1")]),t._v(" "),e("td",[t._v("2")]),t._v(" "),e("td",[t._v("建议 30cm 以上")])]),t._v(" "),e("tr",[e("td",[t._v("M3*5 平头螺丝")]),t._v(" "),e("td",[t._v("10")]),t._v(" "),e("td",[t._v("4")]),t._v(" "),e("td",[t._v("M3*5 是规格 螺纹内经 3mm 长度 5mm 一般100个一包")])]),t._v(" "),e("tr",[e("td",[t._v("注塑热容螺母 M3*4*5")]),t._v(" "),e("td",[t._v("10")]),t._v(" "),e("td",[t._v("11")]),t._v(" "),e("td",[t._v("100个一包")])]),t._v(" "),e("tr",[e("td",[t._v("铜箔胶带")]),t._v(" "),e("td",[t._v("1")]),t._v(" "),e("td",[t._v("10")]),t._v(" "),e("td",[t._v("建议宽度小于等于 1cm")])]),t._v(" "),e("tr",[e("td",[t._v("防静电胶带")]),t._v(" "),e("td",[t._v("1")]),t._v(" "),e("td",[t._v("9")]),t._v(" "),e("td",[t._v("透明的较好")])]),t._v(" "),e("tr",[e("td",[t._v("type-c母 to micro-usb公转接线")]),t._v(" "),e("td",[t._v("2")]),t._v(" "),e("td",[t._v("30 (15*2)")]),t._v(" "),e("td",[t._v("线软、短一点好")])]),t._v(" "),e("tr",[e("td",[t._v("电话机听筒线")]),t._v(" "),e("td",[t._v("1")]),t._v(" "),e("td",[t._v("5.5")]),t._v(" "),e("td",[t._v("座机连接线、4芯电话线")])])])]),t._v(" "),e("p",[t._v("共计: 252.3")]),t._v(" "),e("p",[t._v("键盘外壳需要 3D 打印，底板需要切割。如果你没有 3D 打印或切割条件，那么你需要去找商家定制，价格参考：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数量")]),t._v(" "),e("th",[t._v("价格")]),t._v(" "),e("th",[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("外壳")]),t._v(" "),e("td",[t._v("2 (左 右)")]),t._v(" "),e("td",[t._v("122 (45*2+32快递)")]),t._v(" "),e("td",[t._v("5x6 的左右 stl 文件")])]),t._v(" "),e("tr",[e("td",[t._v("底板")]),t._v(" "),e("td",[t._v("2 (左 右)")]),t._v(" "),e("td",[t._v("50")]),t._v(" "),e("td",[t._v("5x6 底板 dxf 文件(原仓库只有一边，切割两个)")])])])]),t._v(" "),e("p",[t._v("共计: 172")]),t._v(" "),e("p",[t._v("同时，你需要有一些工具：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数量")]),t._v(" "),e("th",[t._v("价格")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("电烙铁")]),t._v(" "),e("td",[t._v("1")]),t._v(" "),e("td",[t._v("20 (便宜的)")])]),t._v(" "),e("tr",[e("td",[t._v("热熔胶枪 (含胶棒)")]),t._v(" "),e("td",[t._v("1")]),t._v(" "),e("td",[t._v("20")])])])]),t._v(" "),e("p",[t._v("共计: 40")]),t._v(" "),e("h2",{attrs:{id:"组建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组建"}},[t._v("#")]),t._v(" 组建")]),t._v(" "),e("p",[e("strong",[t._v("组建过程可以直接查看 "),e("a",{attrs:{href:"https://youtube.com/playlist?list=PLJcTwFs4jAY0VnJDXhexZw7X3OIjXQkiY",target:"_blank",rel:"noopener noreferrer"}},[t._v("此 YouTube 播放列表"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("由于原视频已经足够详细，这里仅对一些细节或是视频里面疏忽的地方进行补充")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("在组建键盘前你可以选择打磨 3D 打印件，以获得更好的手感")])]),t._v(" "),e("li",[e("p",[t._v("在"),e("a",{attrs:{href:"https://www.youtube.com/watch?v=dWC_8BOArzc&list=PLJcTwFs4jAY0VnJDXhexZw7X3OIjXQkiY&index=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("第一个视频"),e("OutboundLink")],1),t._v(" 中 第一步你需要先把"),e("em",[t._v("注塑热容螺母")]),t._v("放置到外壳螺母放置位置，用电烙铁加热并轻轻按压")])]),t._v(" "),e("li",[e("p",[t._v("在"),e("a",{attrs:{href:"https://www.youtube.com/watch?v=Oloh3Yabu6I&list=PLJcTwFs4jAY0VnJDXhexZw7X3OIjXQkiY&index=4",target:"_blank",rel:"noopener noreferrer"}},[t._v("第四个视频"),e("OutboundLink")],1),t._v(" 18分20秒 你不应该按照视频的颜色链接，而该按照"),e("a",{attrs:{href:"https://github.com/tshort/dactyl-keyboard/blob/master/resources/dactyl_manuform_left_wire_diagram.png",target:"_blank",rel:"noopener noreferrer"}},[t._v("此图"),e("OutboundLink")],1),t._v("的颜色连接。同时"),e("a",{attrs:{href:"https://github.com/tshort/dactyl-keyboard/blob/master/resources/dactyl_manuform_right_wire_diagram.png",target:"_blank",rel:"noopener noreferrer"}},[t._v("右侧"),e("OutboundLink")],1),t._v("连接方式也不同")])])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.staticaly.com/gh/wivl/dactyl-build-guide@master/pics/dactyl_manuform_left_wire_diagram.png",alt:"左侧"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.staticaly.com/gh/wivl/dactyl-build-guide@master/pics/dactyl_manuform_right_wire_diagram.png",alt:"右侧"}})]),t._v(" "),e("ol",[e("li",[t._v("在"),e("a",{attrs:{href:"https://www.youtube.com/watch?v=Oloh3Yabu6I&list=PLJcTwFs4jAY0VnJDXhexZw7X3OIjXQkiY&index=4",target:"_blank",rel:"noopener noreferrer"}},[t._v("第四个视频"),e("OutboundLink")],1),t._v("中作者最后在底板上加了个 "),e("kbd",[t._v("reset")]),t._v(" 开关，在后面刷固件部分会用到。如果你觉得烦的话你其实可以跳过这步，稍后会讲到替代方法，只是稍微麻烦一点点")])]),t._v(" "),e("h2",{attrs:{id:"固件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#固件"}},[t._v("#")]),t._v(" 固件")]),t._v(" "),e("p",[t._v("参考"),e("a",{attrs:{href:"https://www.youtube.com/watch?v=fR-w97o7dgg&list=PLJcTwFs4jAY0VnJDXhexZw7X3OIjXQkiY&index=5",target:"_blank",rel:"noopener noreferrer"}},[t._v("第五个视频"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("首先如果你要跟视频步骤，"),e("em",[e("strong",[t._v("不要")])]),t._v(" 使用"),e("a",{attrs:{href:"https://github.com/tshort/qmk_firmware/tree/master/keyboards/dactyl-manuform",target:"_blank",rel:"noopener noreferrer"}},[t._v("此"),e("OutboundLink")],1),t._v("仓库下的固件")]),t._v(" "),e("p",[t._v("Windows 用户请直接按照视频教程 因为在环境准备上需要额外步骤。附上"),e("a",{attrs:{href:"https://docs.qmk.fm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("qmk文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("Linux 和 macOS 可以参考视频直接按照文档步骤，下载时建议使用终端代理")]),t._v(" "),e("h3",{attrs:{id:"生成-hex-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生成-hex-文件"}},[t._v("#")]),t._v(" 生成 hex 文件")]),t._v(" "),e("p",[t._v("视频中作者第一次编译的 "),e("code",[t._v("keymap")]),t._v(" 为 "),e("code",[t._v("default")]),t._v("，在之后才演示了如何自定义 "),e("code",[t._v("keymap")]),t._v("。我建议在第一次刷固件之前就修改好自己的 "),e("code",[t._v("keymap")]),t._v("，否则你可能需要重复刷固件多次才能找到你满意的 "),e("code",[t._v("keymap")])]),t._v(" "),e("p",[t._v("你可以参考"),e("a",{attrs:{href:"https://github.com/wivl/configs/tree/main/keymaps",target:"_blank",rel:"noopener noreferrer"}},[t._v("我用的keymap配置文件"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("编译 "),e("code",[t._v("keymap")]),t._v(" 请参考视频")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("qmk compile -kb handwired/dactyl_manuform/5x6 -km macos\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("其中 "),e("code",[t._v("macos")]),t._v(" 为我自己的 "),e("code",[t._v("keymap")]),t._v(" 命名，请换成你自己的")]),t._v(" "),e("p",[t._v("在"),e("a",{attrs:{href:"https://docs.qmk.fm/#/keycodes_basic",target:"_blank",rel:"noopener noreferrer"}},[t._v("此"),e("OutboundLink")],1),t._v("可以找到 qmk 提供的 keycode")]),t._v(" "),e("h3",{attrs:{id:"刷固件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#刷固件"}},[t._v("#")]),t._v(" 刷固件")]),t._v(" "),e("p",[e("strong",[t._v("刷固件前需要断开连接两个键盘的听筒线，并且两侧都需要刷")])]),t._v(" "),e("p",[t._v("在刷固件时，如同视频所说，你需要 "),e("code",[t._v("reset")]),t._v(" arduino，但是如果你没有在底板上钻孔设置开关的话，你需要手动进行接线 reset。")]),t._v(" "),e("p",[t._v("首先你需要一根杜邦线")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.staticaly.com/gh/wivl/dactyl-build-guide@master/pics/%E6%9D%9C%E9%82%A6%E7%BA%BF.png",alt:"杜邦线"}})]),t._v(" "),e("p",[t._v("然后两端分别连接 "),e("kbd",[t._v("RST")]),t._v(" 和 "),e("kbd",[t._v("GND")]),t._v("。其中 "),e("kbd",[t._v("GND")]),t._v(" 有 3 个，有一个已经被占用，所以随便选择剩下两个中的一个即可。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.staticaly.com/gh/wivl/dactyl-build-guide@master/pics/xarduino_pro_micro_reset_pins.jpg.pagespeed.ic.SDTatP2YA3.webp",alt:"arduino 针脚图片"}})]),t._v(" "),e("p",[t._v("打开下载好的 "),e("code",[t._v("qmk toolbox")]),t._v("，加载编译好的 "),e("code",[t._v(".hex")]),t._v(" 文件")]),t._v(" "),e("p",[t._v("连接 usb 给 arduino 通电的情况下 "),e("code",[t._v("reset")]),t._v("，然后点 "),e("code",[t._v("flash")]),t._v(" 按钮。")]),t._v(" "),e("blockquote",[e("p",[t._v("如果你发现 reset arduino 后 qmk toolbox 才检测到连接，并且几秒后自动断开，那么你需要在 reset 并且检测到连接后快速进行 flash")])]),t._v(" "),e("h3",{attrs:{id:"debug"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debug"}},[t._v("#")]),t._v(" DEBUG")]),t._v(" "),e("p",[t._v("默认设置为将 usb 连接到左侧键盘，即左键盘为 master，右键盘为 slave。\n若要使用右侧连接 usb，你可以在 你的 keymap 文件夹中的 "),e("code",[t._v("config.h")]),t._v(" 设置")]),t._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("MASTER_RIGHT")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("并注释掉")]),t._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("MASTER_LEFT")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("ul",[e("li",[e("p",[t._v("如果 usb 连接在左右键盘都可以使用 （键位是对称的，这是正常情况。这取决于键盘 master-slave 关系的设置）那么固件就是正常工作的。")])]),t._v(" "),e("li",[e("p",[t._v("如果某个按键不响应，但是同排同列的按键都正常使用，说明当前按键的某个针脚焊接不到位，可以加一点锡")])]),t._v(" "),e("li",[e("p",[t._v("如果某一排或者某一列按键都不响应，可能是连接行或列的线接触不良")])]),t._v(" "),e("li",[e("p",[t._v("如果按一个按键触发很多按键，可能是 arduino 针脚接触到了裸露的线缆，可以使用防静电胶布包裹线缆")])]),t._v(" "),e("li",[e("p",[t._v("如果刷固件之后 usb 连接两侧都只有 master 可以正常使用，那么可能是你的 rj9 接口线缆接错，参考上面的连接图纠正。正常连接时 slave 的 arduino 将亮黄灯")])]),t._v(" "),e("li",[e("p",[t._v("如果排除上述错误 slave 还是不可以使用，在 "),e("code",[t._v("config.h")]),t._v(" 里加上")])])]),t._v(" "),e("div",{staticClass:"language-c line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("SPLIT_USB_DETECT")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("SPLIT_USB_TIMEOUT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token expression"}},[e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")])])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.youtube.com/playlist?list=PLJcTwFs4jAY0VnJDXhexZw7X3OIjXQkiY",target:"_blank",rel:"noopener noreferrer"}},[t._v("Kevin Eckert 的 YouTube 视频"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/tshort/dactyl-keyboard",target:"_blank",rel:"noopener noreferrer"}},[t._v("tshort/dactyl-keyboard"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.qmk.fm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("qmk 文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.shellhacks.com/arduino-pro-micro-reset-restore-bootloader/",target:"_blank",rel:"noopener noreferrer"}},[t._v("reset arduino"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/qmk/qmk_firmware/issues/9697",target:"_blank",rel:"noopener noreferrer"}},[t._v("slave 无响应解决方法"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.splitkb.com/hc/en-us/articles/360010588860-Only-one-half-of-my-keyboard-works-at-a-time-but-not-when-they-are-both-connected",target:"_blank",rel:"noopener noreferrer"}},[t._v("一些排错"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=_.exports}}]);